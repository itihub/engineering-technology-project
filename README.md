# 工程场景

## 通过优惠券系统设计案例来解读高并发的实现
- 优惠券数据存储设计（DB和缓存设计）
- 解决缓存和数据不一致的问题
- 解决缓存雪崩、击穿、穿透问题
- 不同优惠券类型核销功能的统一管理（工厂类实现BeanPostProcessor接口）
- 使用切面记录接口的响应时间
- 使用异步任务定期更新优惠券模版缓存数据，使用多线程技术对用户优惠券的合法性进行校验
## 通过电商项目购物场景来
- 商品库存超发问题，使用Redis+Lua脚本预扣减库存校验再用乐观锁更新数据表
- 基于RabitMQ延迟队列实现订单超时未支付订单过期的取消
- 订单完成之后消息广播（通过kafka广播给下游服务）
- 订单完成之后消息广播（通过监听数据库binlog消息实现）
## 消息队列
- 基于内存的消息队列
- kafka消息队列，使用注解消费消息和手动消费消息
- RabbitMQ实现延迟队列和优先级队列